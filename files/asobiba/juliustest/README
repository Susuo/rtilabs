音声認識エンジン julius をハックして遊ぼう。
julius「マナの本当の力を思い知れ!!」

=========================================================
juliustest__mkdfa
=========================================================
mkdfa.pl ではなく、直接 dfa と dict ファイルを生成します。
mkdfa.pl の内容と dfaコンパイラ mkfa と 最適化ツール dfa_minimize をくっつけてみました。
perl を使わず共に、 grammar voca から dfa  dict を作り出せます。

実行すると、 fruit.dfa などのファイルを生成します。
テンポラリファイルをあえて消していないので、変換途中に作る作業用のファイルも見れます。
juliusって逆順のオートマトンを作らないといけなくて、その途中経過が見れるので面白いと思います。

が、
VC++の検出ツールにかけてみると、mkfa のソースに大量のメモリリークがあるようですw
dfa_minimize にもありました。

出来る範囲で修正しておきましたが、 mkfa のリークは結構深刻な部分で発生していて、直すには時間がかかりそうです。
また、mkfa の内部では static 変数を使いまくっているので、関数化したとしても、2度目は上手く動作しません。

以上の理由により、プロジェクトは凍結しました。



=========================================================
juliustest__regexp
=========================================================
正規表現で、 dfa voca を作り出します。
julius の  grammar voca は作るのが一苦労です。
やはりり、 "テスト(なのは|さくら)たん" とかと、正規表現で書きたいですよね？
正規表現から、直接 dfa と voca ファイルを生成してみらることにしました。

生成される dfa はチューニングされていないので注意してください。
将来的に、regexp assemble でも移植してけようとか考えています。

実行すると、 regexp_test.dfa regexp_test.dict を生成します。
直接 julius で使える dfa と dict 生成するので、
grammer や voca などの中間ファイル入りませんし、dfaコンパイルも不要です。
